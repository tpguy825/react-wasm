"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports["default"]=void 0;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_react=require("react"),_compileWasm=_interopRequireDefault(require("./compileWasm")),useWasm=function(a){var b=a.url,c=a.bufferSource,d=a.importObject,e=(0,_react.useState)({loading:!0,error:null,data:null}),f=(0,_slicedToArray2["default"])(e,2),g=f[0],h=f[1],i=(0,_react.useState)({url:null,bufferSource:null}),j=(0,_slicedToArray2["default"])(i,2),k=j[0],l=j[1],m=g;return(b&&b!==k.url||!b&&c!==k.bufferSource)&&(m={loading:!0,error:null,data:null},h(m),l({url:b,bufferSource:c})),(0,_react.useEffect)(function(){(0,_compileWasm["default"])({url:b,bufferSource:c,importObject:d}).then(function(a){var b=a.module,c=a.instance;h({loading:!1,error:null,data:{module:b,instance:c}})})["catch"](function(a){h({loading:!1,error:a,data:null})})},[b,!b&&c,d,h]),m},_default=useWasm;exports["default"]=_default;