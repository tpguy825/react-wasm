"use strict";import _slicedToArray from"@babel/runtime/helpers/slicedToArray";import{useState,useEffect}from"react";import compileWasm from"./compileWasm";var useWasm=function(a){var b=a.url,c=a.bufferSource,d=a.importObject,e=useState({loading:!0,error:null,data:null}),f=_slicedToArray(e,2),g=f[0],h=f[1],i=useState({url:null,bufferSource:null}),j=_slicedToArray(i,2),k=j[0],l=j[1],m=g;return(b&&b!==k.url||!b&&c!==k.bufferSource)&&(m={loading:!0,error:null,data:null},h(m),l({url:b,bufferSource:c})),useEffect(function(){compileWasm({url:b,bufferSource:c,importObject:d}).then(function(a){var b=a.module,c=a.instance;h({loading:!1,error:null,data:{module:b,instance:c}})})["catch"](function(a){h({loading:!1,error:a,data:null})})},[b,!b&&c,d,h]),m};export default useWasm;